<!-- <p>-----------------------------------------------------------------------------------------------------------------------------</p> -->
<!-- <p>main suggestion for that day</p> -->
<div *ngIf="loading" style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;z-index: 2;background-color: #fff;
background-color: rgba(255,255,255,0.5)">
  <div style="display: flex;justify-content: center;align-items: center;height: 90%;">
  <img src="../../../../assets/loading animation/1475.gif" style="opacity: 1;"></div>
</div>
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <!-- <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
  </ol> -->
  <div class="carousel-inner">
    <div class="carousel-item active">      
      <!-- <span *ngIf="todayBooleanMovie && loading">
        <img class="d-block w-100" src="../../../assets/movie.gif" alt="Loading" style="height:fit-content;width: auto;">
      </span> -->
      <span *ngIf="todayBooleanMovie && !loading">
        <img class="d-block w-100" src="../../../assets/images/nomovietoday.PNG" alt="No Movie Today">
      </span>
      <span *ngIf="!todayBooleanMovie && !loading">
        <a (click)="GoToMovie(this.todayMovie.key)">
        <img class="d-block w-100" src="{{this.todayMovie.imageUrl}}" alt="{{this.todayMovie.title}}"></a>
        <div style="display: flex;justify-content: center;flex-wrap: nowrap;">
          <h5>{{this.todayMovie.title}}</h5><br>          
        </div>
        <div style="display: flex;justify-content: center;flex-wrap: nowrap;">
          <h6 class="text-muted text-centre">"{{this.todayMovie.description}}"</h6>         
        </div>
        
        <div class="row" style="margin-left: 3%;margin-right: 3%;margin-top: 0;">
          <div class="col-sm-6">
            <p><b>Language : </b>{{this.todayMovieD.language}}</p>
            <p><b>Genre : </b>{{this.todayMovieD.genre}}</p>
          </div>
          <div class="col-sm-6">
            <p><b>Released Year : </b>{{this.todayMovieD.releaseYear}}</p>
            <p><b>Trailer : </b><button type="button" class="btn btn-outline-primary btn-sm" (click)="GoToMovie(this.todayMovieD.key)">Watch here</button></p>
          </div>
        </div>
      </span>
      
      <!-- <p>show details of suggested movies in below div</p> -->

    </div>
  </div>
  <hr *ngIf="!loading">
</div>

<!-- MODAL STARTS HERE --> 

<!--its very buggy may need to go to different approach for modals in home page-->

<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{{MovieToBeRated.title}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- <div class="embed-responsive embed-responsive-16by9">
          <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/T6DJcgm3wNY?rel=0" allowfullscreen></iframe>
        </div> -->
        <div class="rating" style="margin: 5%;">
          <div class="form-group">            
            <img src="{{MovieToBeRated.imageUrl}}" style="max-width: 100%;max-height: 100%;display: block;">
            <label for="exampleInputPassword2">Already saw this movie, please give us your rating to this movie</label>     
            <small id="emailHelp" class="form-text text-muted">It will help us to suggest better movies based on the rating you give. You can only rate one time per movie. (editing rating for movies will be supported in next version) </small> <br>
            <div style="display: flex;">
            <select class="form-select browser-default custom-select" id="ratingdropdown" aria-label="Default select example" name="rtingd" [(ngModel)]="rating">
              <option [value]=0>Rate {{MovieToBeRated.title}} movie here</option>
              <option [value]="1">Below Average</option>
              <option [value]="2">Average</option>
              <option [value]="3">Good</option>
              <option [value]="4">Extra-ordinary</option>
              <option [value]="5">Mind blowing</option>
            </select>   
            <button type="button" style="margin-left: 1%;width: 100px;" class="btn btn-outline-primary btn-sm" data-toggle="modal" data-target="#exampleModalCenter" (click)=rateMovie(MovieToBeRated.key)>Submit</button>   </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- MODAL ENDS HERE -->

<!--very important for responsive ness between mobile and laptop-->
<span *ngIf="isMobile">
      <!--testing-->
    <div *ngIf="!loading">
      <h5 class="text-center display-8">Recently Suggested Movies From Us</h5>
      <div class="scrolling-wrapper2">
        <span *ngFor="let movie of sortedArray">
          <div class="item" [ngStyle]="{'height': (loggedIn) ? '280px' : '240px'}">
          <!-- <div class="item" *ngIf=(!loggedIn) style="height: 250px;"> -->
            <a (click)="GoToMovie(movie.key)"><img src="{{movie.smallImageUrl}}" class="img-thumbnail" style="height: 210px;width: 150px;"></a>
            <h6 style="text-align: center;">{{movie.title}}</h6> 
            <div style="display: flex;" *ngIf="loggedIn">
              <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                <span *ngIf="!wishlistedMovies.includes(movie.key)">
                  <a (click)="addMovieToWishlist(movie.key)">
                    <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                    <path d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                    </svg> -->
                    Wishlist
                  </a>
                </span>
                <span *ngIf="wishlistedMovies.includes(movie.key)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                  </svg>
                </span>
              </button>
              <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                <span *ngIf="!ratedMoviesForThisCustomer.includes(movie.key)">
                  <a data-toggle="modal" data-target="#exampleModalCenter" (click)="startRateMovie(movie.key)">
                    Rate
                  </a>
                </span>
                <span *ngIf="ratedMoviesForThisCustomer.includes(movie.key)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                    <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                  </svg>
                </span>
              </button>
            </div> 
          </div>     
        </span>    
      </div>
    </div>
    <!--testing end here-->

    <!--find now-->
    <div *ngIf="!loading" style="margin-top: 3%;margin-bottom: 3%;">
      <div class="d-flex" style="margin-left: 5%;margin-right: 5%;">
        <div class="p-2"><h5 class="text-center display-8">Find Now</h5></div>
        <div class="ml-auto p-2">
          <div class="float-right" style="margin-right:3% ;">
            <span class="badge badge-light">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
              </svg>
            </span>
          </div>
        </div>
      </div>
      <div class="scrolling-wrapper3">
        <span *ngFor="let g of allGenres">
          <div class="genre-icon" style="margin: 2%;">
            <!-- <a (click)="GoToMovie(movie.key)"><img src="{{movie.smallImageUrl}}" class="img-thumbnail" style="height: 210px;width: 150px;"></a> -->
            <button type="button" class="btn btn-outline-primary" (click)="GoToGenre(g)">{{g}}</button>
          </div>      
        </span>   
      </div>
    </div>
    <!--find now end here-->

    <!--personalised movies-->
    <div class="d-flex" style="margin-left: 5%;margin-right: 5%;" *ngIf="!loading && loggedIn">
      <div class="p-2"><h5 class="display-8">Personalised Movies <span class="badge badge-light"> beta</span></h5>
        <small id="emailHelp" class="form-text text-muted">These Movies are personalised based on your preferences, to edit preferences click <a routerLink="/personalisation">here</a></small>
      </div>
      <div class="ml-auto p-2">
        <div class="float-right" style="margin-right:3% ;">
          <span class="badge badge-light">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
            </svg>
          </span>
        </div>
      </div>
    </div>
    <div *ngIf="!loading && loggedIn" class="scrolling-wrapper3">
      <div class="scrolling-wrapper2">
        <span *ngFor="let movie of personalisedMoviesDisplay">
          <div class="item" [ngStyle]="{'height': (loggedIn) ? '280px' : '240px'}">
            <a (click)="GoToMovie(movie.key)"><img src="{{movie.smallImageUrl}}" class="img-thumbnail" style="height: 210px;width: 150px;"></a>
            <h6 style="text-align: center;">{{movie.title}}</h6>
            <div style="display: flex;" *ngIf="loggedIn">
              <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                <span *ngIf="!wishlistedMovies.includes(movie.key)">
                  <a (click)="addMovieToWishlist(movie.key)">
                    <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                    <path d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                    </svg> -->
                    Wishlist
                  </a>
                </span>
                <span *ngIf="wishlistedMovies.includes(movie.key)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                  </svg>
                </span>
              </button>
              <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                <span *ngIf="!ratedMoviesForThisCustomer.includes(movie.key)">
                  <a data-toggle="modal" data-target="#exampleModalCenter" (click)="startRateMovie(movie.key)">
                    Rate
                  </a>
                </span>
                <span *ngIf="ratedMoviesForThisCustomer.includes(movie.key)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                    <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                  </svg>
                </span>
              </button>
            </div>
            <!-- <span *ngIf="!wishlistedMovies.includes(movie.key)">
            <a (click)="addMovieToWishlist(movie.key)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
              <path d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
            </svg></a></span>
            <span *ngIf="wishlistedMovies.includes(movie.key)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
            </svg></span> -->
          </div>     
        </span>    
      </div>
    </div>

    <!--personalised movies ends here-->

    <!--location based lists-->
    <div class="d-flex" style="margin-left: 5%;margin-right: 5%;" *ngIf="!loading">
      <div class="p-2"><h5 class="text-center display-8">Location based Movies <span class="badge badge-light"> beta</span></h5>
        <small id="emailHelp" class="form-text text-muted">Preferred Language : {{locationPreferreLanguage}}</small>
      </div>
      <div class="ml-auto p-2">
        <div class="float-right" style="margin-right:3% ;">
          <span class="badge badge-light">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
            </svg>
          </span>
        </div>
      </div>
    </div>
    <div *ngIf="!locationAccess && !loading" style="display: flex;justify-content: center;">
      <button type="button" class="btn btn-outline-dark" (click)="buildMovieSuggestionBasedOnLocation()">See Location based content</button>
    </div>
    <div *ngIf="locationAccess && !loading" class="scrolling-wrapper3">
      <div class="scrolling-wrapper2">
        <span *ngFor="let movie of locationBasedMovies">
          <div class="item" [ngStyle]="{'height': (loggedIn) ? '280px' : '240px'}">
            <a (click)="GoToMovie(movie.key)"><img src="{{movie.smallImageUrl}}" class="img-thumbnail" style="height: 210px;width: 150px;"></a>
            <h6 style="text-align: center;">{{movie.title}}</h6> 
            <div style="display: flex;" *ngIf="loggedIn">
              <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                <span *ngIf="!wishlistedMovies.includes(movie.key)">
                  <a (click)="addMovieToWishlist(movie.key)">
                    <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                    <path d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                    </svg> -->
                    Wishlist
                  </a>
                </span>
                <span *ngIf="wishlistedMovies.includes(movie.key)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                  </svg>
                </span>
              </button>
              <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                <span *ngIf="!ratedMoviesForThisCustomer.includes(movie.key)">
                  <a data-toggle="modal" data-target="#exampleModalCenter" (click)="startRateMovie(movie.key)">
                    Rate
                  </a>
                </span>
                <span *ngIf="ratedMoviesForThisCustomer.includes(movie.key)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                    <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                  </svg>
                </span>
              </button>
            </div> 
          </div>     
        </span>    
      </div>
    </div>
    
    <!--location ends here-->


    <div *ngFor="let list of editorsChoice">
      
      <div class="d-flex" style="margin-left: 5%;margin-right: 5%;">
        <div class="p-2"><h5 class="text-center display-8">{{list.listName}}</h5></div>
        <div class="ml-auto p-2">
          <div class="float-right" style="margin-right:3% ;">
            <span class="badge badge-light">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
              </svg>
            </span>
          </div>
        </div>
      </div>
      <div class="scrolling-wrapper2">
          <span *ngFor="let movie of list.moviesInList">
            <div class="item" [ngStyle]="{'height': (loggedIn) ? '280px' : '240px'}">
              <a (click)="GoToMovie(movie.key)"><img src="{{movie.smallImageUrl}}" class="img-thumbnail" style="height: 210px;width: 150px;"></a>
              <h6 style="text-align: center;">{{movie.title}}</h6>  
              <div style="display: flex;" *ngIf="loggedIn">
                <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                  <span *ngIf="!wishlistedMovies.includes(movie.key)">
                    <a (click)="addMovieToWishlist(movie.key)">
                      <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                      <path d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                      </svg> -->
                      Wishlist
                    </a>
                  </span>
                  <span *ngIf="wishlistedMovies.includes(movie.key)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                    </svg>
                  </span>
                </button>
                <button type="button" class="btn btn-sm btn-block btn-outline-dark" style="margin: 2%;">
                  <span *ngIf="!ratedMoviesForThisCustomer.includes(movie.key)">
                    <a data-toggle="modal" data-target="#exampleModalCenter" (click)="startRateMovie(movie.key)">
                      Rate
                    </a>
                  </span>
                  <span *ngIf="ratedMoviesForThisCustomer.includes(movie.key)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                      <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                    </svg>
                  </span>
                </button>
              </div>
            </div>     
          </span> 
 
        </div>
    </div>


</span>

<!--------------------------------------------------------LAPTOP BELOW -------------------------------------------------------------->
<span *ngIf="!isMobile">


<div *ngIf="!loading">
  <div class="d-flex" style="margin-left: 5%;margin-right: 5%;">
    <div class="p-2"><h3 class="text-center display-8">Recently Suggested Movies From Us</h3></div>
    <div class="ml-auto p-2">
      <div class="float-right" style="margin-right:3% ;">
        <span class="badge badge-light">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
          </svg>
        </span>
      </div>
    </div>
  </div>
  <div class="scrolling-wrapper">
    <!-- <div style="display: flex;flex-wrap: nowrap;"> -->
      <div class="card2" *ngFor="let movie of sortedArray">
        <div class="movie-card">
          <!-- <div class="movie-header manOfSteel" style="background-image: url(movie.smallImageUrl);"> -->
            <a (click)="GoToMovie(movie.key)">
          <div class="movie-header manOfSteel" [ngStyle]="{'background-image': 'url(' + movie.smallImageUrl + ')'}">
            <div class="header-icon-container">          
            </div>
          </div></a><!--movie-header-->
          <div class="movie-content">
            <div class="movie-content-header">
              <a>
                <p class="movie-title">{{movie.title}}</p>
              </a>
              
              <!-- <div class="imax-logo">Watch Trailer</div> ORIGINAL BEFORE MODAL, PASTE THIS LINE IF WE REMOVE BOOTSTRAP MODAL AND REMOVE ABOVE LINE -->
            </div>
            <div class="movie-info" style="font-size:small;">
              <div>
                <label>Language : </label>
                <span><b> {{movie.language}}</b></span>
              </div>
              <div>
                <label>Genre : </label>
                <span><b> {{movie.genre}}</b></span>
              </div>
              <div>
                <label>Suggested Date : </label>
                <span><b> {{movie.suggestedDate}}</b></span>
              </div>
            </div>
              <div>
                <div class="imax-logo" data-toggle="modal" data-target="#exampleModalCenter"><a>Watch Trailer</a></div>
              </div>            
          </div>
        </div>  
      </div>  
    </div>
</div>
  <!--find now-->
  <div *ngIf="!loading" style="margin-top: 3%;margin-bottom: 3%;">
    <div class="d-flex" style="margin-left: 5%;margin-right: 5%;">
      <div class="p-2"><h3 class="text-center display-8">Find Now</h3></div>
      <div class="ml-auto p-2">
        <div class="float-right" style="margin-right:3% ;">
          <span class="badge badge-light">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
            </svg>
          </span>
        </div>
      </div>
    </div>
    <div class="scrolling-wrapper3" style="margin-left: 4%;">
      <span *ngFor="let g of allGenres">
        <div class="genre-icon" style="margin: 1%;">        
          <button type="button" class="btn btn-outline-primary" (click)="GoToGenre(g)">{{g}}</button>
        </div>      
      </span>   
    </div>
  </div>
  <!--find now end here-->

  <!--personalised ocntent-->
  <div *ngIf="!loading && loggedIn">
    <div class="d-flex" style="margin-left: 5%;margin-right: 5%;">
      <div class="p-2">
        <h3 class="display-8">Personalised Movies <span class="badge badge-light"> beta</span></h3>
        <small id="emailHelp" class="form-text text-muted">These Movies are personalised based on your preferences, to edit preferences click <a routerLink="/personalisation">here</a></small>
      </div>
      <div class="ml-auto p-2">
        <div class="float-right" style="margin-right:3% ;">
          <span class="badge badge-light">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
            </svg>
          </span>
        </div>
      </div>
    </div>
    <div class="scrolling-wrapper">
      <!-- <div style="display: flex;flex-wrap: nowrap;"> -->
        <div class="card2" *ngFor="let movie of personalisedMoviesDisplay">
          <div class="movie-card">
            <!-- <div class="movie-header manOfSteel" style="background-image: url(movie.smallImageUrl);"> -->
              <a (click)="GoToMovie(movie.key)">
            <div class="movie-header manOfSteel" [ngStyle]="{'background-image': 'url(' + movie.smallImageUrl + ')'}">
              <div class="header-icon-container">          
              </div>
            </div></a><!--movie-header-->
            <div class="movie-content">
              <div class="movie-content-header">
                <a>
                  <p class="movie-title">{{movie.title}}</p>
                </a>
                
                <!-- <div class="imax-logo">Watch Trailer</div> ORIGINAL BEFORE MODAL, PASTE THIS LINE IF WE REMOVE BOOTSTRAP MODAL AND REMOVE ABOVE LINE -->
              </div>
              <div class="movie-info" style="font-size:small;">
                <div>
                  <label>Language : </label>
                  <span><b> {{movie.language}}</b></span>
                </div>
                <div>
                  <label>Genre : </label>
                  <span><b> {{movie.genre}}</b></span>
                </div>
                <div>
                  <label>Suggested Date : </label>
                  <span><b> {{movie.suggestedDate}}</b></span>
                </div>
              </div>
                <div>
                  <div class="imax-logo" data-toggle="modal" data-target="#exampleModalCenter"><a>Watch Trailer</a></div>
                </div>            
            </div>
          </div>  
        </div>  
      </div>
  </div>
  <!---personalised content ends here-->


  <div *ngIf="!loading && locationAccess">
    <div class="d-flex" style="margin-left: 5%;margin-right: 5%;">
      <div class="p-2">
        <h3 class="text-center display-8">Location Based Movies <span class="badge badge-light"> beta</span></h3>
        <small id="emailHelp" class="form-text text-muted">Preferred Language : {{locationPreferreLanguage}}</small>
      </div>
      <div class="ml-auto p-2">
        <div class="float-right" style="margin-right:3% ;">
          <span class="badge badge-light">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
            </svg>
          </span>
        </div>
      </div>
    </div>
    <div class="scrolling-wrapper">
      <!-- <div style="display: flex;flex-wrap: nowrap;"> -->
        <div class="card2" *ngFor="let movie of locationBasedMovies">
          <div class="movie-card">
            <!-- <div class="movie-header manOfSteel" style="background-image: url(movie.smallImageUrl);"> -->
              <a (click)="GoToMovie(movie.key)">
            <div class="movie-header manOfSteel" [ngStyle]="{'background-image': 'url(' + movie.smallImageUrl + ')'}">
              <div class="header-icon-container">          
              </div>
            </div></a><!--movie-header-->
            <div class="movie-content">
              <div class="movie-content-header">
                <a>
                  <p class="movie-title">{{movie.title}}</p>
                </a>
                
                <!-- <div class="imax-logo">Watch Trailer</div> ORIGINAL BEFORE MODAL, PASTE THIS LINE IF WE REMOVE BOOTSTRAP MODAL AND REMOVE ABOVE LINE -->
              </div>
              <div class="movie-info" style="font-size:small;">
                <div>
                  <label>Language : </label>
                  <span><b> {{movie.language}}</b></span>
                </div>
                <div>
                  <label>Genre : </label>
                  <span><b> {{movie.genre}}</b></span>
                </div>
                <div>
                  <label>Suggested Date : </label>
                  <span><b> {{movie.suggestedDate}}</b></span>
                </div>
              </div>
                <div>
                  <div class="imax-logo" data-toggle="modal" data-target="#exampleModalCenter"><a>Watch Trailer</a></div>
                </div>            
            </div>
          </div>  
        </div>  
      </div>
  </div>
  
  <div *ngIf="!locationAccess && !loading" style="display: flex;justify-content: center;">
    <button type="button" class="btn btn-outline-dark" (click)="buildMovieSuggestionBasedOnLocation()">See Location based content</button>
  </div>


<!---movies lists from ts file here-->
<div *ngFor="let list of editorsChoice">
  
  <div class="d-flex" style="margin-left: 5%;margin-right: 5%;">
    <div class="p-2"><h3 class="text-center display-8">{{list.listName}}</h3></div>
    <div class="ml-auto p-2">
      <div class="float-right" style="margin-right:3% ;">
        <span class="badge badge-light">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
          </svg>
        </span>
      </div>
    </div>
  </div>
  <div class="scrolling-wrapper">
    <!-- <div style="display: flex;flex-wrap: nowrap;"> -->
      <div class="card2" *ngFor="let movie of list.moviesInList">
        <div class="movie-card">
          <!-- <div class="movie-header manOfSteel" style="background-image: url(movie.smallImageUrl);"> -->
            <a (click)="GoToMovie(movie.key)">
          <div class="movie-header manOfSteel" [ngStyle]="{'background-image': 'url(' + movie.smallImageUrl + ')'}">
            <div class="header-icon-container">          
            </div>
          </div></a><!--movie-header-->
          <div class="movie-content">
            <div class="movie-content-header">
              <a>
                <p class="movie-title">{{movie.title}}</p>
              </a>
              
              <!-- <div class="imax-logo">Watch Trailer</div> ORIGINAL BEFORE MODAL, PASTE THIS LINE IF WE REMOVE BOOTSTRAP MODAL AND REMOVE ABOVE LINE -->
            </div>
            <div class="movie-info" style="font-size:small;">
              <div>
                <label>Language : </label>
                <span><b> {{movie.language}}</b></span>
              </div>
              <div>
                <label>Genre : </label>
                <span><b> {{movie.genre}}</b></span>
              </div>
              <div>
                <label>Year of Release : </label>
                <span><b> {{movie.releaseYear}}</b></span>
              </div>
            </div>
              <div>
                <div class="imax-logo" data-toggle="modal" data-target="#exampleModalCenter"><a>Watch Trailer</a></div>
              </div>            
          </div>
        </div>  
      </div>  
    </div>
</div>
<!---ts file movie list end here-->
</span>

