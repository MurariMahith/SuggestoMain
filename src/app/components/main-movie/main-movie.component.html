<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
<span *ngIf="loading">
  <img width="100%" src="../../../assets/images/loadinggif3.gif">
</span>

<span *ngIf="!loading">

  <div class="top">
    <header>
      <!-- Navbar -->
      <!-- <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container-fluid">
          <button
            class="navbar-toggler"
            type="button"
            data-mdb-toggle="collapse"
            data-mdb-target="#navbarExample01"
            aria-controls="navbarExample01"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <i class="fas fa-bars"></i>
          </button>
          <div class="collapse navbar-collapse" id="navbarExample01">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item active">
                <a class="nav-link" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Features</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Pricing</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">About</a>
              </li>
            </ul>
          </div>
        </div>
      </nav> -->
      <!-- Navbar -->
    
      <!-- Background image -->
      <div
        class="p-5 text-center bg-image"
        style="background-repeat: no-repeat;background-attachment: fixed;background-position: center;"
        [ngStyle]="{'background-image': 'url(' + actualMovie.smallImageUrl + ')'}"
      >
        <div class="mask" style="background-color: rgba(0, 0, 0, 0.6);padding: 2%;word-wrap: break-word;white-space: initial;">
          <div class="d-flex justify-content-center align-items-center h-100">
            <div class="text-white">
              <h1 class="mb-3">{{actualMovie.title}}</h1>
              <h6 class="mb-3"><label class="top-label">Language : </label> {{actualMovie.language}}</h6>
              <h6 class="mb-3"><label class="top-label">Available In : </label> {{actualMovie.availableIn}}</h6>
              <h6 class="mb-3"><label class="top-label">Genre : </label> {{actualMovie.genre}}</h6>
              <h6 class="mb-3"><label class="top-label">Released In : </label> {{actualMovie.releaseYear}}</h6>
              <h6 class="mb-3"><label class="top-label">Cast : </label> {{actualMovie.cast}}</h6>
              <a class="btn btn-outline-light btn-lg buttons-top" role="button" (click)="MoreAboutMovie()">More About Movie <i class="fa fa-info-circle" aria-hidden="true"></i></a>
              <a class="btn btn-outline-light btn-lg buttons-top" role="button" (click)="GoToMovieExternalSite()">Watch Movie <i class="fa fa-play-circle-o"></i></a>
              <a class="btn btn-outline-light btn-lg buttons-top" role="button" (click)='trailer()'>Watch Trailer <i class="fa fa-play-circle-o"></i></a>
              <a class="btn btn-outline-light btn-lg buttons-top" role="button" (click)='wishlist()'>Wishlist <i class="fa fa-heart" aria-hidden="true"></i></a>
              <div class="rating" style="margin: 5%;">
                <div class="form-group" *ngIf="eligibleForRating">
                  <h5 class="mb-3"><label class="top-label">Rate {{actualMovie.title}}</label></h5> 
                  <!-- <small id="emailHelp" class="form-text ">It will help us to suggest better movies. You can only rate one time per movie. (editing rating for movies will be supported in next version) </small> <br> -->
                  <div style="display: flex;">
                  <select class="form-select browser-default custom-select" id="ratingdropdown" aria-label="Default select example" name="rtingd" [(ngModel)]="rating">
                    <option [value]=0>Rate {{actualMovie.title}} movie here</option>
                    <option [value]="1">Below Average</option>
                    <option [value]="2">Average</option>
                    <option [value]="3">Good</option>
                    <option [value]="4">Extrordinary</option>
                    <option [value]="5">Mind blowing</option>
                  </select>   
                  <button type="button" style="margin-left: 1%;width: 100px;" class="btn btn-outline-light btn-sm" (click)="rateMovie(actualMovie.key)">Submit</button>   </div>
                </div>
                <div *ngIf="!eligibleForRating">
                  <h6> You already rated <b>{{rating}}</b> for <b>{{actualMovie.title}}</b>. Thank you !</h6>
                  <small id="emailHelp" class="form-text "> You can only rate one time per movie. (editing rating for movies will be supported in next version)</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Background image -->
    </header>
  </div>
  
  
    <div class="row">
      <div class="col-sm-8" id="yt-trailermm">    
        <div class="embed-responsive embed-responsive-16by9" style="margin: 20px;border-radius: 10px;">
          <iframe class="embed-responsive-item" [src]="safeSrc" allowfullscreen></iframe>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="movie-card">
          <!-- <div class="movie-header manOfSteel" style="background-image: url(movie.smallImageUrl);"> -->
          <div class="movie-header manOfSteel" [ngStyle]="{'background-image': 'url(' + actualMovie.smallImageUrl + ')'}">
            <div class="header-icon-container">          
            </div>
          </div><!--movie-header-->
          <div class="movie-content">
            <div class="movie-content-header">
              <a>
                <p class="movie-title">{{actualMovie.title}}</p>
              </a>
              
              <!-- <div class="imax-logo">Watch Trailer</div> ORIGINAL BEFORE MODAL, PASTE THIS LINE IF WE REMOVE BOOTSTRAP MODAL AND REMOVE ABOVE LINE -->
            </div>
            <div class="movie-info" style="font-size:small;">
              <div>
                <label>Language : </label>
                <span><b> {{actualMovie.language}}</b></span>
              </div>
              <div>
                <label>Genre : </label>
                <span><b> {{actualMovie.genre}}</b></span>
              </div>
              <div>
                <label>Year of Release : </label>
                <span><b> {{actualMovie.releaseYear}}</b></span>
              </div>
            </div>
              <div>
                <div class="imax-logo" data-toggle="modal" data-target="#exampleModalCenter"><a (click)='trailer()'>Watch Trailer</a></div>
              </div>
            
          </div>
        </div> 

      </div>
    </div>

    <div class="rating" style="margin: 5%;">
      <div class="form-group" *ngIf="eligibleForRating">
        <label for="exampleInputPassword2">Already saw this movie, please give us your rating to this movie</label>     
        <small id="emailHelp" class="form-text text-muted">It will help us to suggest better movies. You can only rate one time per movie. (editing rating for movies will be supported in next version) </small> <br>
        <div style="display: flex;">
        <select class="form-select browser-default custom-select" id="ratingdropdown" aria-label="Default select example" name="rtingd" [(ngModel)]="rating">
          <option [value]=0>Rate {{actualMovie.title}} movie here</option>
          <option [value]="1">Below Average</option>
          <option [value]="2">Average</option>
          <option [value]="3">Good</option>
          <option [value]="4">Extrordinary</option>
          <option [value]="5">Mind blowing</option>
        </select>   
        <button type="button" style="margin-left: 1%;width: 100px;" class="btn btn-outline-primary btn-sm" (click)="rateMovie(actualMovie.key)">Submit</button>   </div>
      </div>
      <div *ngIf="!eligibleForRating">
        <h4> You already rated <b>{{rating}}</b> for <b>{{actualMovie.title}}</b>. Thank you !</h4>
        <small id="emailHelp" class="form-text text-muted"> You can only rate one time per movie. (editing rating for movies will be supported in next version)</small>
      </div>
    </div>

    <div class="movie-links" style="display: flex;justify-content: center">
      <!-- <h3>description goes here</h3> -->
      <button type="button" style="margin: 1%;" class="btn btn-outline-primary btn-lg btn-block" (click)="GoToMovieExternalSite()">Watch Movie <i class="fa fa-play-circle-o"></i></button>      
      <button type="button" style="margin: 1%;" class="btn btn-outline-primary btn-lg btn-block" (click)="MoreAboutMovie()">More About Movie <i class="fa fa-info-circle" aria-hidden="true"></i></button>      
      <button type="button" style="margin: 1%;" class="btn btn-outline-primary btn-lg btn-block" (click)="trailer()">Watch Trailer <i class="fa fa-play-circle-o"></i></button>      
      <button type="button" style="margin: 1%;" class="btn btn-outline-primary btn-lg btn-block" (click)="wishlist()">Wishlist <i class="fa fa-heart" aria-hidden="true"></i></button>      
      <!--this below line implementation is hidden until our app gets good response-->
      <!-- <button type="button" style="margin: 1%;" class="btn btn-outline-primary btn-lg btn-block">Download Movie From Torrent <i class="fa fa-play-circle-o"></i></button>       -->
    </div>

</span>